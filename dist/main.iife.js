(function(){"use strict";class a{number;startTime;endTime;text;constructor(t,e,s,i){this.number=t,this.startTime=e,this.endTime=s,this.text=i}}function c(n){if(n=='')return [];const t={number:parseInt(n.match(/^\d+/g)[0]),timing:{start:n.match(/(\d+:){2}\d+,\d+/g)[0].replace(",","."),end:n.match(/(\d+:){2}\d+,\d+/g)[1].replace(",",".")},text:n.split(/\r?\n/g).slice(2,n.split(/\r?\n/g).length).join(`
`)};return new a(t.number,r(t.timing.start),r(t.timing.end),t.text)}function r(n){let t=n.split(":"),e=0,s=1;for(;t.length>0;)e+=s*parseFloat(t.pop(),10),s*=60;return e}async function d(n,t){if(t=='')t="utf-8";return fetch(n).then(e=>e.arrayBuffer()).then(e=>new TextDecoder(t).decode(e))}class o{src;encoding;lang;kind;label;default;body;needsTransform;cues=[];constructor(t){this.src=t.src,this.encoding=t.dataset.encoding,this.lang=t.srclang,this.kind=t.kind,this.label=t.label,this.default=t.default,this.needsTransform=!this.src.endsWith(".vtt")}async parse(){this.body=await d(this.src,this.encoding),this.cues=this.body.split(/\r?\n\r?\n/g).flatMap(c)}}async function l(n){const t=[...n.querySelectorAll("track")].map(e=>new o(e));for(const e of t){if(!e.needsTransform)continue;await e.parse();const s=n.addTextTrack(e.kind,e.label,e.lang);e.cues.forEach(i=>s.addCue(new VTTCue(i.startTime,i.endTime,i.text))),e.default&&(s.mode="showing")}}document.addEventListener("DOMContentLoaded",()=>[...document.querySelectorAll("video")].forEach(l))})();
